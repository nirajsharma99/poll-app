[{"G:\\poll-app\\client-side\\src\\index.js":"1","G:\\poll-app\\client-side\\src\\reportWebVitals.js":"2","G:\\poll-app\\client-side\\src\\App.js":"3","G:\\poll-app\\client-side\\src\\components\\new.js":"4","G:\\poll-app\\client-side\\src\\components\\header.js":"5","G:\\poll-app\\client-side\\src\\components\\demo-poll.js":"6","G:\\poll-app\\client-side\\src\\components\\poll-admin.js":"7","G:\\poll-app\\client-side\\src\\components\\main-component.js":"8","G:\\poll-app\\client-side\\src\\components\\poll-result.js":"9","G:\\poll-app\\client-side\\src\\components\\poll.js":"10","G:\\poll-app\\client-side\\src\\components\\test.js":"11","G:\\poll-app\\client-side\\src\\components\\edit-poll.js":"12","G:\\poll-app\\client-side\\src\\components\\notification.js":"13"},{"size":449,"mtime":1610516343451,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"15"},{"size":1101,"mtime":1611208287139,"results":"17","hashOfConfig":"15"},{"size":5702,"mtime":1611234513208,"results":"18","hashOfConfig":"15"},{"size":856,"mtime":1609479918462,"results":"19","hashOfConfig":"15"},{"size":3285,"mtime":1609502191266,"results":"20","hashOfConfig":"15"},{"size":11676,"mtime":1611234303310,"results":"21","hashOfConfig":"15"},{"size":8843,"mtime":1611240845444,"results":"22","hashOfConfig":"15"},{"size":9396,"mtime":1611244419443,"results":"23","hashOfConfig":"15"},{"size":5704,"mtime":1611245307096,"results":"24","hashOfConfig":"15"},{"size":1237,"mtime":1610771949543,"results":"25","hashOfConfig":"15"},{"size":10583,"mtime":1611162829576,"results":"26","hashOfConfig":"15"},{"size":677,"mtime":1611244460135,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1b2y798",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"G:\\poll-app\\client-side\\src\\index.js",[],["56","57"],"G:\\poll-app\\client-side\\src\\reportWebVitals.js",[],"G:\\poll-app\\client-side\\src\\App.js",[],"G:\\poll-app\\client-side\\src\\components\\new.js",["58"],"G:\\poll-app\\client-side\\src\\components\\header.js",[],"G:\\poll-app\\client-side\\src\\components\\demo-poll.js",[],"G:\\poll-app\\client-side\\src\\components\\poll-admin.js",["59","60"],"G:\\poll-app\\client-side\\src\\components\\main-component.js",[],"G:\\poll-app\\client-side\\src\\components\\poll-result.js",["61","62","63"],"G:\\poll-app\\client-side\\src\\components\\poll.js",["64","65"],"G:\\poll-app\\client-side\\src\\components\\test.js",[],"G:\\poll-app\\client-side\\src\\components\\edit-poll.js",["66"],"import '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport '../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faPlus,\r\n  faBookmark,\r\n  faTrashAlt,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport queryString from 'query-string';\r\n\r\nfunction EditPoll({ location }) {\r\n  const history = useHistory();\r\n  const [pollid, setPollid] = useState('');\r\n  const [key, setKey] = useState('');\r\n  const [questions, setQuestion] = useState({\r\n    id: uuidv4(),\r\n    question: '',\r\n    error: false,\r\n  });\r\n  const [inputFields, setInputFields] = useState([\r\n    { id: uuidv4(), options: '', error: false },\r\n    { id: uuidv4(), options: '', error: false },\r\n  ]);\r\n  const [toast, setToast] = useState({\r\n    snackbaropen: false,\r\n    snackbar2open: false,\r\n    Transition: Slide,\r\n  });\r\n  useEffect(() => {\r\n    var x = queryString.parse(location.search);\r\n    const id = x.id;\r\n    setPollid(x.id);\r\n    setKey(x.key);\r\n    //console.log(id);\r\n\r\n    axios\r\n      .get(`http://localhost:5000/getpoll/${id}`)\r\n      .then(function (response) {\r\n        let medium = [];\r\n        const data = response.data;\r\n        console.log(data);\r\n        setQuestion({ question: data.question });\r\n        data.options.map((option) => {\r\n          medium.push(option);\r\n          return medium;\r\n        });\r\n        setInputFields(medium);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n  const snackbarclose = (event) => {\r\n    setToast({\r\n      snackbaropen: false,\r\n      snackbar2open: false,\r\n    });\r\n  };\r\n  const showError = (value, error) => value.trim().length === 0 && error;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    //console.log('Inputfields', inputFields);\r\n    //console.log('question', questions);\r\n    const emptyQuestion = questions.question.trim().length > 0;\r\n    const emptyOptions = inputFields.every((obj) => {\r\n      return obj.options.length > 0;\r\n    });\r\n    if (!emptyQuestion) {\r\n      setQuestion({ ...questions, error: true });\r\n    }\r\n    if (!emptyOptions) {\r\n      setInputFields(\r\n        [...inputFields].map((object) => {\r\n          if (object.options === '') {\r\n            return {\r\n              ...object,\r\n              error: true,\r\n            };\r\n          } else return object;\r\n        })\r\n      );\r\n    } else {\r\n      const data = { question: questions, options: inputFields, key: key };\r\n      axios\r\n        .post('http://localhost:5000/editpoll', data)\r\n        .then(function (response) {\r\n          console.log(response.data._id);\r\n          handleClick(slideTransition);\r\n          history.push(`/poll-admin/?id=${pollid}&key=${pollid}`);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleChangeInput = (id, event) => {\r\n    const newInputFields = inputFields.map((i) => {\r\n      if (id === i.id) {\r\n        i[event.target.name] = event.target.value;\r\n      }\r\n      return i;\r\n    });\r\n    setInputFields(newInputFields);\r\n  };\r\n  const handleQuestion = (id, event) => {\r\n    setQuestion({ id: id, question: event.target.value });\r\n  };\r\n\r\n  const handleAddfields = () => {\r\n    setInputFields([\r\n      ...inputFields,\r\n      { id: uuidv4(), options: '', error: false },\r\n    ]);\r\n    setToast({ snackbar2open: true });\r\n  };\r\n  const handleRemoveFields = (id) => {\r\n    const values = [...inputFields];\r\n    values.splice(\r\n      values.findIndex((value) => value.id === id),\r\n      1\r\n    );\r\n    setInputFields(values);\r\n  };\r\n  const slideTransition = (props) => {\r\n    return <Slide {...props} direction=\"down\" />;\r\n  };\r\n  const handleClick = (Transition) => () => {\r\n    setToast({ snackbaropen: true, Transition });\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui-outer\">\r\n      <div className=\"ui-container py-5 px-5\">\r\n        <form onSubmit={handleSubmit} autoComplete=\"off\">\r\n          <div className=\"mx-auto\">\r\n            <div className=\"d-flex justify-content-between flex-column flex-md-row align-items-baseline\">\r\n              <div>\r\n                <h3>Edit Poll</h3>\r\n                <p className=\"mt-4 mb-0 text-large text-secondary font-medium\">\r\n                  Edit below fields as you need.\r\n                </p>\r\n              </div>\r\n              <Link to={'/poll-admin/?id=' + pollid + '&key=' + key}>\r\n                <span className=\"text-light bg-danger align-self-end font-weight-bold rounded-lg px-4 py-2\">\r\n                  Cancel\r\n                </span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex flex-column question\">\r\n                <label className=\"mb-3 w-100 font-weight-bold content-text\">\r\n                  Poll Question\r\n                </label>\r\n                <TextField\r\n                  {...(showError(questions.question, questions.error) && {\r\n                    ...{\r\n                      error: questions.error,\r\n                      helperText: 'Enter the question.',\r\n                    },\r\n                  })}\r\n                  id={questions.id}\r\n                  name=\"question\"\r\n                  multiline={true}\r\n                  rows={3}\r\n                  className=\"textareastyle w-100 py-4 rounded-lg px-3 outline-none  border border-gray \"\r\n                  placeholder=\"What's you favorite TV Show?\"\r\n                  defaultValue={questions.question}\r\n                  onChange={(event) => handleQuestion(questions.id, event)}\r\n                />\r\n              </div>\r\n              <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                open={toast.snackbaropen}\r\n                onClose={snackbarclose}\r\n                autoHideDuration={2000}\r\n                TransitionComponent={toast.Transition}\r\n                key={toast.Transition}\r\n                action={[\r\n                  <IconButton\r\n                    arial-label=\"Close\"\r\n                    color=\"inherit\"\r\n                    onClick={snackbarclose}\r\n                  >\r\n                    x\r\n                  </IconButton>,\r\n                ]}\r\n              >\r\n                <MuiAlert onClose={snackbarclose} severity=\"success\">\r\n                  Success, poll submitted!\r\n                </MuiAlert>\r\n              </Snackbar>\r\n\r\n              <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                open={toast.snackbar2open}\r\n                onClose={snackbarclose}\r\n                autoHideDuration={2000}\r\n                action={[\r\n                  <IconButton\r\n                    arial-label=\"Close\"\r\n                    color=\"inherit\"\r\n                    onClick={snackbarclose}\r\n                  >\r\n                    x\r\n                  </IconButton>,\r\n                ]}\r\n              >\r\n                <MuiAlert onClose={snackbarclose} severity=\"info\">\r\n                  Added another field!\r\n                </MuiAlert>\r\n              </Snackbar>\r\n\r\n              {inputFields.map((inputField, index) => (\r\n                <div className=\"options mt-2 flex-column\" key={inputField.id}>\r\n                  <div className=\"flex align-items-center mb-3\">\r\n                    <div className=\"flex flex-column\">\r\n                      <label className=\"mb-3 w-100 content-text font-weight-bold\">\r\n                        Option {index + 1}\r\n                      </label>\r\n                      <div className=\"flex align-items-center justify-content-between\">\r\n                        <TextField\r\n                          {...(showError(\r\n                            inputField.options,\r\n                            inputField.error\r\n                          ) && {\r\n                            ...{\r\n                              error: inputField.error,\r\n                              helperText: 'Enter atleast 2 options',\r\n                            },\r\n                          })}\r\n                          id={inputField.id}\r\n                          name=\"options\"\r\n                          className=\" py-3 rounded-lg px-3 textareastyle inputfield focus-shadow transition-all duration-200 text-gray-700 focus-outline-none  border border-gray-300 focus:shadow-outline\"\r\n                          placeholder={'Option' + (index + 1)}\r\n                          value={inputField.options}\r\n                          onChange={(event) =>\r\n                            handleChangeInput(inputField.id, event)\r\n                          }\r\n                        />\r\n                        <button\r\n                          hidden={inputFields.length === 2}\r\n                          onClick={() => handleRemoveFields(inputField.id)}\r\n                          className=\" delete ml-2\"\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            className=\" text-danger\"\r\n                            icon={faTrashAlt}\r\n                          />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleAddfields}\r\n                className=\"px-5 py-3 border-0  bg-dark rounded-lg font-weight-bold flex align-items-center justify-content-between text-white\"\r\n              >\r\n                <span className=\"mr-3\">\r\n                  Add another option\r\n                  <FontAwesomeIcon className=\"ml-2\" icon={faPlus} />\r\n                </span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex justify-content-center mt-5 pt-3 \">\r\n              <button\r\n                type=\"submit\"\r\n                /*onClick={handleSubmit}*/\r\n                className=\"px-5 py-3 bg-success border-0 text-white font-weight-bold rounded-lg\"\r\n              >\r\n                <FontAwesomeIcon className=\"mr-2\" icon={faBookmark} />\r\n                Save changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditPoll;\r\n","G:\\poll-app\\client-side\\src\\components\\notification.js",[],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":15,"column":10,"nodeType":"73","messageId":"74","endLine":15,"endColumn":16},{"ruleId":"75","severity":1,"message":"76","line":24,"column":19,"nodeType":"77","messageId":"78","endLine":24,"endColumn":21},{"ruleId":"79","severity":1,"message":"80","line":55,"column":6,"nodeType":"81","endLine":55,"endColumn":8,"suggestions":"82"},{"ruleId":"75","severity":1,"message":"76","line":20,"column":19,"nodeType":"77","messageId":"78","endLine":20,"endColumn":21},{"ruleId":"79","severity":1,"message":"83","line":37,"column":3,"nodeType":"73","endLine":37,"endColumn":12,"suggestions":"84"},{"ruleId":"79","severity":1,"message":"80","line":73,"column":6,"nodeType":"81","endLine":73,"endColumn":8,"suggestions":"85"},{"ruleId":"71","severity":1,"message":"86","line":9,"column":8,"nodeType":"73","messageId":"74","endLine":9,"endColumn":18},{"ruleId":"79","severity":1,"message":"80","line":68,"column":6,"nodeType":"81","endLine":68,"endColumn":8,"suggestions":"87"},{"ruleId":"79","severity":1,"message":"80","line":61,"column":6,"nodeType":"81","endLine":61,"endColumn":8,"suggestions":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-unused-vars","'copied' is assigned a value but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'location.search'. Either include it or remove the dependency array.","ArrayExpression",["91"],"React Hook useEffect contains a call to 'setToast'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [cache, pollid] as a second argument to the useEffect Hook.",["92"],["93"],"'PollResult' is defined but never used.",["94"],["95"],"no-global-assign","no-unsafe-negation",{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},{"desc":"96","fix":"100"},{"desc":"96","fix":"101"},{"desc":"96","fix":"102"},"Update the dependencies array to be: [location.search]",{"range":"103","text":"104"},"Add dependencies array: [cache, pollid]",{"range":"105","text":"106"},{"range":"107","text":"104"},{"range":"108","text":"104"},{"range":"109","text":"104"},[1823,1825],"[location.search]",[1471,1471],", [cache, pollid]",[2128,2130],[2009,2011],[1894,1896]]